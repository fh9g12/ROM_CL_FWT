function out = get_M(p,U)
	%GET_M Auto-generated function from moyra
	%
	%	Created at : Tue Oct 15 11:55:04 2024 
	%	Created with : moyra https://pypi.org/project/moyra/
	%
	%% extract required parameters from structure
	S = p.S;
	M = p.M;
	Lambda = p.Lambda;
	X_f = p.X_f;
	m_f = p.m_f;
	R = p.R;
	I_f = p.I_f;
	%% create common groups
	rep_1 = cos(U(5));
	rep_2 = sin(U(5));
	rep_3 = sin(Lambda);
	rep_4 = rep_2.*rep_3;
	rep_5 = -R(1,1).*rep_1 - R(3,1).*rep_4;
	rep_6 = X_f(3).*rep_5;
	rep_7 = cos(Lambda);
	rep_8 = R(3,1).*rep_7;
	rep_9 = rep_3.*rep_8;
	rep_10 = rep_1.*rep_3;
	rep_11 = R(1,1).*rep_2 - R(3,1).*rep_10;
	rep_12 = rep_11.*rep_7 + rep_9;
	rep_13 = X_f(2).*rep_12;
	rep_14 = rep_7.^2;
	rep_15 = R(3,1).*rep_14 - rep_11.*rep_3;
	rep_16 = X_f(1).*rep_15;
	rep_17 = S(2,1) + rep_13 + rep_16 + rep_6;
	rep_18 = m_f.*(S(2,1)/2 + rep_13/2 + rep_16/2 + rep_6/2);
	rep_19 = R(2,1).*rep_1 - rep_2.*rep_8;
	rep_20 = X_f(3).*rep_19;
	rep_21 = rep_3.^2;
	rep_22 = -R(2,1).*rep_2 - rep_1.*rep_8;
	rep_23 = -R(3,1).*rep_21 + rep_22.*rep_7;
	rep_24 = X_f(2).*rep_23;
	rep_25 = -rep_22.*rep_3 - rep_9;
	rep_26 = X_f(1).*rep_25;
	rep_27 = S(1,1) + rep_20 + rep_24 + rep_26;
	rep_28 = m_f.*(S(1,1)/2 + rep_20/2 + rep_24/2 + rep_26/2);
	rep_29 = R(1,1).*rep_7 + R(2,1).*rep_3;
	rep_30 = rep_2.*rep_29;
	rep_31 = X_f(3).*rep_30;
	rep_32 = R(1,1).*rep_3 - R(2,1).*rep_7;
	rep_33 = rep_1.*rep_7;
	rep_34 = rep_29.*rep_33 + rep_3.*rep_32;
	rep_35 = X_f(2).*rep_34;
	rep_36 = -rep_10.*rep_29 + rep_32.*rep_7;
	rep_37 = X_f(1).*rep_36;
	rep_38 = S(3,1) + rep_31 + rep_35 + rep_37;
	rep_39 = m_f.*(S(3,1)/2 + rep_31/2 + rep_35/2 + rep_37/2);
	rep_40 = R(2,1).*U(1) + R(2,2).*U(2) + R(2,3).*U(3) + R(2,4).*U(4);
	rep_41 = R(3,1).*U(1) + R(3,2).*U(2) + R(3,3).*U(3) + R(3,4).*U(4);
	rep_42 = rep_3 + rep_41.*rep_7;
	rep_43 = -rep_1.*rep_40 + rep_2.*rep_42;
	rep_44 = -rep_43;
	rep_45 = rep_23.*rep_44;
	rep_46 = R(1,1).*U(1) + R(1,2).*U(2) + R(1,3).*U(3) + R(1,4).*U(4);
	rep_47 = rep_3.*rep_41 - rep_7;
	rep_48 = rep_1.*rep_46 + rep_2.*rep_47;
	rep_49 = -rep_48;
	rep_50 = rep_12.*rep_49;
	rep_51 = rep_3.*rep_40 + rep_46.*rep_7;
	rep_52 = rep_1 + rep_2.*rep_51;
	rep_53 = rep_34.*rep_52;
	rep_54 = rep_45/2 + rep_50/2 + rep_53/2;
	rep_55 = I_f(1).*(rep_45 + rep_50 + rep_53);
	rep_56 = -rep_47;
	rep_57 = -rep_1.*rep_42 - rep_2.*rep_40;
	rep_58 = -rep_3.*rep_57 + rep_56.*rep_7;
	rep_59 = rep_19.*rep_58;
	rep_60 = -rep_1.*rep_47 + rep_2.*rep_46;
	rep_61 = -rep_3.*rep_60 + rep_42.*rep_7;
	rep_62 = rep_5.*rep_61;
	rep_63 = rep_3.*rep_46 - rep_40.*rep_7;
	rep_64 = rep_1.*rep_51 - rep_2;
	rep_65 = -rep_3.*rep_64 + rep_63.*rep_7;
	rep_66 = rep_30.*rep_65;
	rep_67 = rep_59/2 + rep_62/2 + rep_66/2;
	rep_68 = I_f(2).*(rep_59 + rep_62 + rep_66);
	rep_69 = rep_3.*rep_42 + rep_60.*rep_7;
	rep_70 = rep_15.*rep_69;
	rep_71 = rep_3.*rep_56 + rep_57.*rep_7;
	rep_72 = rep_25.*rep_71;
	rep_73 = rep_3.*rep_63 + rep_64.*rep_7;
	rep_74 = rep_36.*rep_73;
	rep_75 = rep_70/2 + rep_72/2 + rep_74/2;
	rep_76 = I_f(3).*(rep_70 + rep_72 + rep_74);
	rep_77 = -R(1,2).*rep_1 - R(3,2).*rep_4;
	rep_78 = X_f(3).*rep_77;
	rep_79 = R(3,2).*rep_7;
	rep_80 = rep_3.*rep_79;
	rep_81 = R(1,2).*rep_2 - R(3,2).*rep_10;
	rep_82 = rep_7.*rep_81 + rep_80;
	rep_83 = X_f(2).*rep_82;
	rep_84 = R(3,2).*rep_14 - rep_3.*rep_81;
	rep_85 = X_f(1).*rep_84;
	rep_86 = S(2,2) + rep_78 + rep_83 + rep_85;
	rep_87 = S(2,2)/2 + rep_78/2 + rep_83/2 + rep_85/2;
	rep_88 = m_f.*rep_17;
	rep_89 = R(2,2).*rep_1 - rep_2.*rep_79;
	rep_90 = X_f(3).*rep_89;
	rep_91 = -R(2,2).*rep_2 - R(3,2).*rep_33;
	rep_92 = -R(3,2).*rep_21 + rep_7.*rep_91;
	rep_93 = X_f(2).*rep_92;
	rep_94 = -rep_3.*rep_91 - rep_80;
	rep_95 = X_f(1).*rep_94;
	rep_96 = S(1,2) + rep_90 + rep_93 + rep_95;
	rep_97 = S(1,2)/2 + rep_90/2 + rep_93/2 + rep_95/2;
	rep_98 = m_f.*rep_27;
	rep_99 = R(1,2).*rep_7 + R(2,2).*rep_3;
	rep_100 = rep_2.*rep_99;
	rep_101 = X_f(3).*rep_100;
	rep_102 = R(1,2).*rep_3 - R(2,2).*rep_7;
	rep_103 = rep_102.*rep_3 + rep_33.*rep_99;
	rep_104 = X_f(2).*rep_103;
	rep_105 = -rep_10.*rep_99 + rep_102.*rep_7;
	rep_106 = X_f(1).*rep_105;
	rep_107 = S(3,2) + rep_101 + rep_104 + rep_106;
	rep_108 = S(3,2)/2 + rep_101/2 + rep_104/2 + rep_106/2;
	rep_109 = m_f.*rep_38;
	rep_110 = rep_44.*rep_92;
	rep_111 = rep_49.*rep_82;
	rep_112 = rep_103.*rep_52;
	rep_113 = rep_110 + rep_111 + rep_112;
	rep_114 = I_f(1).*rep_54;
	rep_115 = rep_110/2 + rep_111/2 + rep_112/2;
	rep_116 = rep_58.*rep_89;
	rep_117 = rep_61.*rep_77;
	rep_118 = rep_100.*rep_65;
	rep_119 = rep_116 + rep_117 + rep_118;
	rep_120 = I_f(2).*rep_67;
	rep_121 = rep_116/2 + rep_117/2 + rep_118/2;
	rep_122 = rep_69.*rep_84;
	rep_123 = rep_71.*rep_94;
	rep_124 = rep_105.*rep_73;
	rep_125 = rep_122 + rep_123 + rep_124;
	rep_126 = I_f(3).*rep_75;
	rep_127 = rep_122/2 + rep_123/2 + rep_124/2;
	rep_128 = rep_107.*rep_39 + rep_108.*rep_109 + rep_113.*rep_114 + rep_115.*rep_55 + rep_119.*rep_120 + rep_121.*rep_68 + rep_125.*rep_126 + rep_127.*rep_76 + rep_18.*rep_86 + rep_28.*rep_96 + rep_87.*rep_88 + rep_97.*rep_98;
	rep_129 = -R(1,3).*rep_1 - R(3,3).*rep_4;
	rep_130 = X_f(3).*rep_129;
	rep_131 = R(3,3).*rep_7;
	rep_132 = rep_131.*rep_3;
	rep_133 = R(1,3).*rep_2 - R(3,3).*rep_10;
	rep_134 = rep_132 + rep_133.*rep_7;
	rep_135 = X_f(2).*rep_134;
	rep_136 = R(3,3).*rep_14 - rep_133.*rep_3;
	rep_137 = X_f(1).*rep_136;
	rep_138 = S(2,3) + rep_130 + rep_135 + rep_137;
	rep_139 = S(2,3)/2 + rep_130/2 + rep_135/2 + rep_137/2;
	rep_140 = R(2,3).*rep_1 - rep_131.*rep_2;
	rep_141 = X_f(3).*rep_140;
	rep_142 = -R(2,3).*rep_2 - R(3,3).*rep_33;
	rep_143 = -R(3,3).*rep_21 + rep_142.*rep_7;
	rep_144 = X_f(2).*rep_143;
	rep_145 = -rep_132 - rep_142.*rep_3;
	rep_146 = X_f(1).*rep_145;
	rep_147 = S(1,3) + rep_141 + rep_144 + rep_146;
	rep_148 = S(1,3)/2 + rep_141/2 + rep_144/2 + rep_146/2;
	rep_149 = R(1,3).*rep_7 + R(2,3).*rep_3;
	rep_150 = rep_149.*rep_2;
	rep_151 = X_f(3).*rep_150;
	rep_152 = R(1,3).*rep_3 - R(2,3).*rep_7;
	rep_153 = rep_149.*rep_33 + rep_152.*rep_3;
	rep_154 = X_f(2).*rep_153;
	rep_155 = -rep_10.*rep_149 + rep_152.*rep_7;
	rep_156 = X_f(1).*rep_155;
	rep_157 = S(3,3) + rep_151 + rep_154 + rep_156;
	rep_158 = S(3,3)/2 + rep_151/2 + rep_154/2 + rep_156/2;
	rep_159 = rep_143.*rep_44;
	rep_160 = rep_134.*rep_49;
	rep_161 = rep_153.*rep_52;
	rep_162 = rep_159 + rep_160 + rep_161;
	rep_163 = rep_159/2 + rep_160/2 + rep_161/2;
	rep_164 = rep_140.*rep_58;
	rep_165 = rep_129.*rep_61;
	rep_166 = rep_150.*rep_65;
	rep_167 = rep_164 + rep_165 + rep_166;
	rep_168 = rep_164/2 + rep_165/2 + rep_166/2;
	rep_169 = rep_136.*rep_69;
	rep_170 = rep_145.*rep_71;
	rep_171 = rep_155.*rep_73;
	rep_172 = rep_169 + rep_170 + rep_171;
	rep_173 = rep_169/2 + rep_170/2 + rep_171/2;
	rep_174 = rep_109.*rep_158 + rep_114.*rep_162 + rep_120.*rep_167 + rep_126.*rep_172 + rep_138.*rep_18 + rep_139.*rep_88 + rep_147.*rep_28 + rep_148.*rep_98 + rep_157.*rep_39 + rep_163.*rep_55 + rep_168.*rep_68 + rep_173.*rep_76;
	rep_175 = -R(1,4).*rep_1 - R(3,4).*rep_4;
	rep_176 = X_f(3).*rep_175;
	rep_177 = R(3,4).*rep_7;
	rep_178 = rep_177.*rep_3;
	rep_179 = R(1,4).*rep_2 - R(3,4).*rep_10;
	rep_180 = rep_178 + rep_179.*rep_7;
	rep_181 = X_f(2).*rep_180;
	rep_182 = R(3,4).*rep_14 - rep_179.*rep_3;
	rep_183 = X_f(1).*rep_182;
	rep_184 = S(2,4) + rep_176 + rep_181 + rep_183;
	rep_185 = S(2,4)/2 + rep_176/2 + rep_181/2 + rep_183/2;
	rep_186 = R(2,4).*rep_1 - rep_177.*rep_2;
	rep_187 = X_f(3).*rep_186;
	rep_188 = -R(2,4).*rep_2 - R(3,4).*rep_33;
	rep_189 = -R(3,4).*rep_21 + rep_188.*rep_7;
	rep_190 = X_f(2).*rep_189;
	rep_191 = -rep_178 - rep_188.*rep_3;
	rep_192 = X_f(1).*rep_191;
	rep_193 = S(1,4) + rep_187 + rep_190 + rep_192;
	rep_194 = S(1,4)/2 + rep_187/2 + rep_190/2 + rep_192/2;
	rep_195 = R(1,4).*rep_7 + R(2,4).*rep_3;
	rep_196 = rep_195.*rep_2;
	rep_197 = X_f(3).*rep_196;
	rep_198 = R(1,4).*rep_3 - R(2,4).*rep_7;
	rep_199 = rep_195.*rep_33 + rep_198.*rep_3;
	rep_200 = X_f(2).*rep_199;
	rep_201 = -rep_10.*rep_195 + rep_198.*rep_7;
	rep_202 = X_f(1).*rep_201;
	rep_203 = S(3,4) + rep_197 + rep_200 + rep_202;
	rep_204 = S(3,4)/2 + rep_197/2 + rep_200/2 + rep_202/2;
	rep_205 = rep_189.*rep_44;
	rep_206 = rep_180.*rep_49;
	rep_207 = rep_199.*rep_52;
	rep_208 = rep_205 + rep_206 + rep_207;
	rep_209 = rep_205/2 + rep_206/2 + rep_207/2;
	rep_210 = rep_186.*rep_58;
	rep_211 = rep_175.*rep_61;
	rep_212 = rep_196.*rep_65;
	rep_213 = rep_210 + rep_211 + rep_212;
	rep_214 = rep_210/2 + rep_211/2 + rep_212/2;
	rep_215 = rep_182.*rep_69;
	rep_216 = rep_191.*rep_71;
	rep_217 = rep_201.*rep_73;
	rep_218 = rep_215 + rep_216 + rep_217;
	rep_219 = rep_215/2 + rep_216/2 + rep_217/2;
	rep_220 = rep_109.*rep_204 + rep_114.*rep_208 + rep_120.*rep_213 + rep_126.*rep_218 + rep_18.*rep_184 + rep_185.*rep_88 + rep_193.*rep_28 + rep_194.*rep_98 + rep_203.*rep_39 + rep_209.*rep_55 + rep_214.*rep_68 + rep_219.*rep_76;
	rep_221 = X_f(3).*rep_60;
	rep_222 = X_f(1).*rep_3;
	rep_223 = rep_222.*rep_48;
	rep_224 = X_f(2).*rep_7;
	rep_225 = rep_224.*rep_48;
	rep_226 = rep_221/2 - rep_223/2 + rep_225/2;
	rep_227 = X_f(3).*rep_57;
	rep_228 = rep_222.*rep_43;
	rep_229 = rep_224.*rep_43;
	rep_230 = rep_227/2 - rep_228/2 + rep_229/2;
	rep_231 = rep_221 - rep_223 + rep_225;
	rep_232 = rep_227 - rep_228 + rep_229;
	rep_233 = X_f(3).*rep_64;
	rep_234 = -rep_52;
	rep_235 = rep_222.*rep_234;
	rep_236 = rep_224.*rep_234;
	rep_237 = rep_233/2 - rep_235/2 + rep_236/2;
	rep_238 = rep_233 - rep_235 + rep_236;
	rep_239 = rep_43.*rep_44.*rep_7;
	rep_240 = rep_234.*rep_52.*rep_7;
	rep_241 = rep_48.*rep_49.*rep_7;
	rep_242 = rep_239 + rep_240 + rep_241;
	rep_243 = rep_239/2 + rep_240/2 + rep_241/2;
	rep_244 = rep_57.*rep_58;
	rep_245 = rep_60.*rep_61;
	rep_246 = rep_64.*rep_65;
	rep_247 = rep_244/2 + rep_245/2 + rep_246/2;
	rep_248 = rep_244 + rep_245 + rep_246;
	rep_249 = rep_3.*rep_43.*rep_71;
	rep_250 = rep_3.*rep_48.*rep_69;
	rep_251 = rep_234.*rep_3.*rep_73;
	rep_252 = -rep_249/2 - rep_250/2 - rep_251/2;
	rep_253 = -rep_249 - rep_250 - rep_251;
	rep_254 = rep_109.*rep_237 + rep_114.*rep_242 + rep_120.*rep_248 + rep_126.*rep_253 + rep_18.*rep_231 + rep_226.*rep_88 + rep_230.*rep_98 + rep_232.*rep_28 + rep_238.*rep_39 + rep_243.*rep_55 + rep_247.*rep_68 + rep_252.*rep_76;
	rep_255 = m_f.*rep_87;
	rep_256 = m_f.*rep_97;
	rep_257 = m_f.*rep_108;
	rep_258 = I_f(1).*rep_113;
	rep_259 = I_f(2).*rep_119;
	rep_260 = I_f(3).*rep_125;
	rep_261 = m_f.*rep_86;
	rep_262 = m_f.*rep_96;
	rep_263 = m_f.*rep_107;
	rep_264 = I_f(1).*rep_115;
	rep_265 = I_f(2).*rep_121;
	rep_266 = I_f(3).*rep_127;
	rep_267 = rep_138.*rep_255 + rep_139.*rep_261 + rep_147.*rep_256 + rep_148.*rep_262 + rep_157.*rep_257 + rep_158.*rep_263 + rep_162.*rep_264 + rep_163.*rep_258 + rep_167.*rep_265 + rep_168.*rep_259 + rep_172.*rep_266 + rep_173.*rep_260;
	rep_268 = rep_184.*rep_255 + rep_185.*rep_261 + rep_193.*rep_256 + rep_194.*rep_262 + rep_203.*rep_257 + rep_204.*rep_263 + rep_208.*rep_264 + rep_209.*rep_258 + rep_213.*rep_265 + rep_214.*rep_259 + rep_218.*rep_266 + rep_219.*rep_260;
	rep_269 = rep_226.*rep_261 + rep_230.*rep_262 + rep_231.*rep_255 + rep_232.*rep_256 + rep_237.*rep_263 + rep_238.*rep_257 + rep_242.*rep_264 + rep_243.*rep_258 + rep_247.*rep_259 + rep_248.*rep_265 + rep_252.*rep_260 + rep_253.*rep_266;
	rep_270 = m_f.*rep_139;
	rep_271 = m_f.*rep_148;
	rep_272 = m_f.*rep_158;
	rep_273 = I_f(1).*rep_162;
	rep_274 = I_f(2).*rep_167;
	rep_275 = I_f(3).*rep_172;
	rep_276 = m_f.*rep_138;
	rep_277 = m_f.*rep_147;
	rep_278 = m_f.*rep_157;
	rep_279 = I_f(1).*rep_163;
	rep_280 = I_f(2).*rep_168;
	rep_281 = I_f(3).*rep_173;
	rep_282 = rep_184.*rep_270 + rep_185.*rep_276 + rep_193.*rep_271 + rep_194.*rep_277 + rep_203.*rep_272 + rep_204.*rep_278 + rep_208.*rep_279 + rep_209.*rep_273 + rep_213.*rep_280 + rep_214.*rep_274 + rep_218.*rep_281 + rep_219.*rep_275;
	rep_283 = rep_226.*rep_276 + rep_230.*rep_277 + rep_231.*rep_270 + rep_232.*rep_271 + rep_237.*rep_278 + rep_238.*rep_272 + rep_242.*rep_279 + rep_243.*rep_273 + rep_247.*rep_274 + rep_248.*rep_280 + rep_252.*rep_275 + rep_253.*rep_281;
	rep_284 = m_f.*rep_185;
	rep_285 = m_f.*rep_194;
	rep_286 = m_f.*rep_204;
	rep_287 = I_f(1).*rep_208;
	rep_288 = I_f(2).*rep_214;
	rep_289 = I_f(3).*rep_218;
	rep_290 = m_f.*rep_226;
	rep_291 = m_f.*rep_230;
	rep_292 = m_f.*rep_237;
	rep_293 = I_f(1).*rep_242;
	rep_294 = I_f(2).*rep_247;
	rep_295 = I_f(3).*rep_253;
	rep_296 = rep_184.*rep_290 + rep_193.*rep_291 + rep_203.*rep_292 + rep_209.*rep_293 + rep_213.*rep_294 + rep_219.*rep_295 + rep_231.*rep_284 + rep_232.*rep_285 + rep_238.*rep_286 + rep_243.*rep_287 + rep_248.*rep_288 + rep_252.*rep_289;
	%% create output vector
	out = [M(1) + 2*rep_17.*rep_18 + 2*rep_27.*rep_28 + 2*rep_38.*rep_39 + 2*rep_54.*rep_55 + 2*rep_67.*rep_68 + 2*rep_75.*rep_76 rep_128 rep_174 rep_220 rep_254;...
		 rep_128 M(2) + 2*rep_107.*rep_257 + 2*rep_115.*rep_258 + 2*rep_121.*rep_259 + 2*rep_127.*rep_260 + 2*rep_255.*rep_86 + 2*rep_256.*rep_96 rep_267 rep_268 rep_269;...
		 rep_174 rep_267 M(3) + 2*rep_138.*rep_270 + 2*rep_147.*rep_271 + 2*rep_157.*rep_272 + 2*rep_163.*rep_273 + 2*rep_168.*rep_274 + 2*rep_173.*rep_275 rep_282 rep_283;...
		 rep_220 rep_268 rep_282 M(4) + 2*rep_184.*rep_284 + 2*rep_193.*rep_285 + 2*rep_203.*rep_286 + 2*rep_209.*rep_287 + 2*rep_213.*rep_288 + 2*rep_219.*rep_289 rep_296;...
		 rep_254 rep_269 rep_283 rep_296 2*rep_231.*rep_290 + 2*rep_232.*rep_291 + 2*rep_238.*rep_292 + 2*rep_243.*rep_293 + 2*rep_248.*rep_294 + 2*rep_252.*rep_295];
end